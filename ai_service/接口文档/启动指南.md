 ## åˆå§‹åŒ–
cd ai_service
python -m venv venv
.\venv\Scripts\activate
pip install -r requirements.txt
uvicorn main:app --host 0.0.0.0 --port 8000 --reload   

åœ¨è¿è¡Œç½‘ç«™ä¸‹çš„/docså¯ä»¥çœ‹åˆ°Swapperç½‘ç«™æŸ¥çœ‹æ¥å£æ–‡æ¡£
å¦‚ï¼šhttp://127.0.0.1:8000/docs


## è¿è¡Œ
mvn spring-boot:run

cd .\frontend\
npm run dev

cd ai_service
./venv/Scripts/activate
uvicorn main:app --host 0.0.0.0 --port 8000 --reload

## è¯†åˆ«è§†é¢‘æŒ‡å—

è¯†åˆ«è§†é¢‘éœ€è¦ç¡®ä¿æœ¬åœ°å®‰è£…ffmpeg

å®‰è£… ffmpegï¼ˆç³»ç»Ÿçº§å‘½ä»¤è¡Œå·¥å…·ï¼‰Windows ä¸‹å®‰è£…æ–¹æ³•ï¼š

ç›´æ¥ç‚¹å‡» https://www.gyan.dev/ffmpeg/builds/ffmpeg-release-essentials.zip ä¸‹è½½

æˆ–è€…è®¿é—®å®˜ç½‘ä¸‹è½½é¡µï¼šhttps://ffmpeg.org/download.html
â†’ é€‰æ‹© Windows builds by BtbNï¼ˆæˆ– https://www.gyan.dev/ffmpeg/builds/ï¼‰
ä¸‹è½½ ffmpeg-release-essentials.zipï¼Œè§£å‹å¾—åˆ° ffmpeg/bin/ffmpeg.exe
ï¼ˆæ³¨æ„Winç³»ç»Ÿä¸‹è½½zipæ–‡ä»¶ï¼Œtar.gzæ˜¯ç»™Linuxç³»ç»Ÿç”¨çš„ï¼‰

æ·»åŠ ç¯å¢ƒå˜é‡ï¼ˆé‡è¦ï¼‰ï¼š

å°† ffmpeg/bin æ‰€åœ¨è·¯å¾„å¤åˆ¶ä¸‹æ¥ï¼Œæ¯”å¦‚ï¼šD:\Toolkits\ffmpeg\bin

æ‰“å¼€ç³»ç»Ÿè®¾ç½® â†’ ç¯å¢ƒå˜é‡ â†’ é€‰æ‹©â€œPathâ€ â†’ æ·»åŠ è¿™æ¡è·¯å¾„

æ‰“å¼€æ–°çš„ç»ˆç«¯çª—å£ï¼Œè¾“å…¥ ffmpeg -version æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ

## è¯†åˆ«å›¾ç‰‡/å›¾ç‰‡å‹PDFæŒ‡å—

è¯†åˆ«å›¾ç‰‡éœ€è¦ç¡®ä¿æœ¬åœ°å®‰è£…äº†Tesseract-OCRå·¥å…·å¯¹å›¾ç‰‡è¿›è¡Œè¯†åˆ«ï¼Œ
å¦‚æœæ²¡æœ‰å®‰è£…æ§åˆ¶å°/æ—¥å¿—å¯èƒ½æŠ¥é”™ï¼š
~~~txt
2025-06-30 16:16:36,566 - api - ERROR - Error processing file test.png: tesseract is not installed or it's not in your PATH. See README file for more information.
INFO:     127.0.0.1:61932 - "POST /embedding/upload HTTP/1.1" 500 Internal Server Error
~~~
å®‰è£…æ•™ç¨‹å¦‚ä¸‹ï¼š

1. ç¬¬ä¸€æ­¥ï¼šå®‰è£… Tesseract-OCR
ä½ æ˜¯ Windows ç³»ç»Ÿï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å®‰è£…ï¼š

è®¿é—®å®˜æ–¹ä¸‹è½½åœ°å€ï¼š
ğŸ‘‰ https://github.com/tesseract-ocr/tesseract

ä¹Ÿå¯ä»¥ç›´æ¥ä¸‹è½½ Windows å®‰è£…åŒ…ï¼ˆæ¨èè¿™ä¸ªï¼‰ï¼š
ğŸ‘‰ https://digi.bib.uni-mannheim.de/tesseract/

ç‚¹å‡»ä¸‹è½½ï¼š
tesseract-ocr-w64-setup-5.x.x.exe

2. æ­¥éª¤äºŒï¼šæ‰‹åŠ¨å°† tesseract åŠ å…¥ç³»ç»Ÿ PATH ç¯å¢ƒå˜é‡
æŒ‰ Win + Sï¼Œæœç´¢å¹¶æ‰“å¼€ "ç¯å¢ƒå˜é‡"
æœç´¢ï¼šç¯å¢ƒå˜é‡ æˆ– Edit environment variables
ç‚¹å‡»ï¼š"ç¼–è¾‘ç³»ç»Ÿç¯å¢ƒå˜é‡" â†’ å†ç‚¹å‡»å³ä¸‹è§’çš„ "ç¯å¢ƒå˜é‡"
åœ¨"ç³»ç»Ÿå˜é‡"åŒºåŸŸï¼Œæ‰¾åˆ°å¹¶åŒå‡» Pathï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
ç‚¹å‡»"æ–°å»º"ï¼Œç„¶åç²˜è´´ä½ çš„å®‰è£…è·¯å¾„ï¼š

å¦‚ï¼šC:\Program Files\Tesseract-OCR
ç‚¹"ç¡®å®š"ä¿å­˜å¹¶å…³é—­æ‰€æœ‰çª—å£ã€‚

ğŸ”„ é‡æ–°å¯åŠ¨ä½ çš„ç»ˆç«¯ï¼ˆCMD / PowerShell / VSCode / PyCharm ç­‰ï¼‰

3. å¦‚æœä½ æŒ‰ç…§ä¸Šé¢å¯åŠ¨è™šæ‹Ÿç¯å¢ƒï¼Œè¯·æ›´æ”¹doc_parseræ–‡ä»¶ä¸­çš„è·¯å¾„
   
  å°† pytesseract.pytesseract.tesseract_cmd = r"D:\Tesseract-OCR\tesseract.exe"
  æ›¿æ¢ä¸ºä½ å®é™…å®‰è£…çš„åœ°å€ï¼ˆæ¯”å¦‚C:\Program Files\Tesseract-OCR\tesseract.exe"ï¼‰

4. ç¡®ä¿Tesseract-OCRä¸‹çš„tessdataå«æœ‰ä¸­æ–‡ä¸è‹±æ–‡è®­ç»ƒæ•°æ®

~~~txt
C:\Program Files\Tesseract-OCR\
â”œâ”€â”€ tesseract.exe         â† ä¸»ç¨‹åº
â”œâ”€â”€ tessdata\             â† ã€è¯­è¨€è®­ç»ƒæ•°æ®åŒ…æ–‡ä»¶å¤¹ã€‘
â”‚   â”œâ”€â”€ eng.traineddata   â† è‹±è¯­è¯†åˆ«æ¨¡å‹ï¼ˆé»˜è®¤è‡ªå¸¦ï¼‰
â”‚   â”œâ”€â”€ chi_sim.traineddata â† ç®€ä½“ä¸­æ–‡è¯†åˆ«æ¨¡å‹ï¼ˆå¯èƒ½æ²¡æœ‰ï¼Œéœ€è¦ä¸‹è½½ï¼‰
â”‚   â””â”€â”€ ...ï¼ˆå…¶å®ƒè¯­è¨€ï¼‰
â””â”€â”€ ...
~~~
ç®€ä½“ä¸­æ–‡è®­ç»ƒæ•°æ®æ²¡æœ‰çš„è¯å¯ä»¥å»å®˜ç½‘ä¸‹è½½ï¼šhttps://github.com/tesseract-ocr/tessdata
ä¸‹è½½åæ”¾åˆ° tessdata ç›®å½•ä¸‹å³å¯

ç„¶åä¸Šä¼ å›¾ç‰‡/å›¾ç‰‡ç±»å‹PDFå°±å¯ä»¥æ­£å¸¸åˆ†å—è§£æäº†ã€‚

## è¯†åˆ«è§†é¢‘éŸ³é¢‘è½¬å†™ï¼ˆWhisperï¼‰æŒ‡å—

è§†é¢‘è½¬å†™ä¾èµ–äºffmpegå·¥å…·ç”¨äºéŸ³é¢‘æå–ã€‚

1. ä¸‹è½½ffmpegï¼š
   - è®¿é—®å®˜ç½‘ä¸‹è½½é¡µé¢ï¼šhttps://ffmpeg.org/download.html
   - Windowsç”¨æˆ·æ¨èä¸‹è½½é™æ€ç¼–è¯‘ç‰ˆï¼ˆå¦‚ï¼šffmpeg-release-essentials.zipï¼‰ï¼Œè§£å‹åˆ°ä»»æ„ç›®å½•ã€‚
2. é…ç½®ç¯å¢ƒå˜é‡ï¼š
   - å°†è§£å‹ç›®å½•ä¸‹çš„binæ–‡ä»¶å¤¹è·¯å¾„ï¼ˆå¦‚C:\ffmpeg\binï¼‰åŠ å…¥ç³»ç»ŸPATHç¯å¢ƒå˜é‡ã€‚
   - Win+Sæœç´¢"ç¯å¢ƒå˜é‡"ï¼Œç¼–è¾‘ç³»ç»Ÿå˜é‡Pathï¼Œæ·»åŠ binè·¯å¾„ã€‚
   - é‡æ–°å¯åŠ¨ç»ˆç«¯ã€‚
3. éªŒè¯å®‰è£…ï¼š
   - æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥ `ffmpeg -version`ï¼Œå‡ºç°ç‰ˆæœ¬ä¿¡æ¯å³ä¸ºå®‰è£…æˆåŠŸã€‚

å¦‚æœªå®‰è£…ffmpegï¼Œè§†é¢‘è½¬å†™åŠŸèƒ½å°†æ— æ³•ä½¿ç”¨ã€‚
